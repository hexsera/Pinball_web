# 핀볼 점수증가 실행계획

## 요구사항 요약

**요구사항**: 공이 target 오브젝트에 닿으면 점수에 300을 추가하고, 점수 컴포넌트를 게임 영역 내부로 이동하며 흰색 반透明 스타일로 변경한다.

**목적**: 핀볼 게임에 점수증가 mechanic을 추가하여 플레이어에게 목표와 보상을 제공한다.

## 현재상태 분석

- `score` 상태 변수는 초기값 `3000`으로 존재 (Pinball.jsx line 15)
- `target` 오브젝트는 이미 생성되어 있음 (line 203~208, label: `'target'`, 위치: x=500, y=500)
- `target` 충돌은 `collisionStart` 이벤트에서 감지되지만 `console.log`만 출력 (line 318~321)
- SCORE UI는 현재 게임 영역 위의 검은색 상단 바 영역에 있음 (line 525~550)
- `setScore`는 React 상태 setter이므로 Matter.js 이벤트 콜백 안에서 직접 사용 가능

## 구현 방법

Matter.js의 `collisionStart` 이벤트에서 이미 target 충돌을 감지하는 코드가 있으므로, 그 안에 `setScore(prev => prev + 300)`을 추가하여 점수를 증가시킨다. SCORE 컴포넌트는 검은색 상단 바에서 제거하고, 게임 영역(배경이미지 Box) 내부에 `position: absolute`로 배치하며 흰색 반투명 배경을 적용한다.

## 구현 단계

### 1. target 충돌 시 점수 증가 로직 추가
```javascript
// collisionStart 이벤트 내부 (기존 target 충돌 감지 블록 수정)
if ((bodyA.label === 'target' && bodyB === ball) ||
    (bodyB.label === 'target' && bodyA === ball)) {
  console.log('target 충돌했음');
  setScore(prev => prev + 300);
}
```
- **무엇을 하는가**: 공과 target이 충돌할 때마다 현재 점수에 300을 추가
- `setScore(prev => prev + 300)` 형태로 이전 값을 기반으로 갱신하여 동시성 문제 방지
- 기존 `console.log` 아래에 한 줄만 추가

### 2. 상단 검은색 바에서 SCORE 표시 제거
```javascript
// 기존 검은색 상단 UI 영역 (100px 높이 Box)에서 SCORE Typography만 제거
// LIVES Typography만 남긴다
<Box sx={{
  width: '700px',
  height: '100px',
  backgroundColor: '#000000',
  display: 'flex',
  flexDirection: 'column',
  justifyContent: 'center',
  alignItems: 'center'
}}>
  <Typography sx={{
    fontSize: '32px',
    fontWeight: 'bold',
    color: '#ffffff'
  }}>
    LIVES: {lives}
  </Typography>
</Box>
```
- **무엇을 하는가**: 상단 바에서 SCORE 표시를 제거하여 중복 표시를 방지
- LIVES 표시는 유지

### 3. 게임 영역 내부에 반투명 흰색 SCORE 컴포넌트 추가
```javascript
// 게임 영역 Box (배경이미지가 적용된 Box) 안에 추가
<Box sx={{
  position: 'absolute',
  top: '10px',
  left: '50%',
  transform: 'translateX(-50%)',
  backgroundColor: 'rgba(255, 255, 255, 0.7)',
  borderRadius: '8px',
  padding: '6px 20px',
  zIndex: 5
}}>
  <Typography sx={{
    fontSize: '28px',
    fontWeight: 'bold',
    color: '#000000'
  }}>
    SCORE: {score}
  </Typography>
</Box>
```
- **무엇을 하는가**: 게임 영역 상단 중앙에 반투명 흰색 배경의 점수 컴포넌트를 배치
- `position: absolute`로 게임 캔버스 위에 겹쳐서 표시
- `rgba(255, 255, 255, 0.7)`로 흰색 반투명 배경 적용
- `zIndex: 5`로 캔버스 위에 올려 표시 보장
- 텍스트 색은 반투명 흰색 배경과의 가독성을 위해 검은색 사용

## 수정/생성할 파일 목록

| 파일 경로 | 작업 유형 | 변경 내용 |
|-----------|-----------|-----------|
| react/main/src/Pinball.jsx | 수정 | target 충돌 시 점수 +300 추가, SCORE UI를 게임 영역 내부로 이동하며 반투명 흰색 스타일 적용 |

## 완료 체크리스트

- [o] 공이 target(하늘색 원형 오브젝트)에 닿으면 점수가 300 증가하는지 확인
- [o] 점수 컴포넌트가 게임 영역(배경이미지 영역) 내부에 표시되는지 확인
- [o] 점수 컴포넌트의 배경이 흰색 반투명인지 확인
- [o] 점수 컴포넌트가 점수만 출력하고 다른 불필요한 정보가 없는지 확인
- [o] 기존 LIVES 표시와 게임오버 점수 표시가 정상 동작하는지 확인
- [o] 빌드 시 에러 없이 정상 컴파일되는지 확인
