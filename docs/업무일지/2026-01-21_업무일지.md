# 업무일지

## 기본 정보
- 날짜: 2026-01-21 (화)
- 작성자: hexsera

## 진행 목표
React MUI 기반 Admin 메인 페이지 구현 및 임시 이미지 추가

## 진행 내용

| 작업 | 수정 파일 | 비고 |
|------|----------|------|

[Admin 메인 페이지 PRD 작성]
Admin 페이지 구성요소 검색
| Admin 메인 페이지 PRD 작성 | admin-메인페이지.md | Dashboard.jsx 구조 분석 포함
1시간 35분

[실행]
| AdminSidebar 생성 | react/main/src/admin/AdminSidebar.jsx | Drawer 컴포넌트 (270px 너비)
| AdminHeader 생성 | react/main/src/admin/AdminHeader.jsx | AppBar 컴포넌트
| AdminMain 생성 | react/main/src/admin/AdminMain.jsx | 메인 콘텐츠 영역
| AdminPage 생성 | react/main/src/admin/AdminPage.jsx | 전체 레이아웃 조합

| /admin 라우트 추가 | react/main/src/App.jsx | AdminPage import 및 Route 추가
| 알람 아이콘 네비게이션 | react/main/src/Dashboard.jsx | Notifications 아이콘에 navigate 
5분

[테스트]
15분

[학습]
55분

[보여주기용 이미지 추가 PRD 작성]
| 임시 이미지 추가 PRD 작성 | admin-임시이미지-추가.md | CardMedia 사용 패턴 분석
10분

[실행]
| AdminMain 이미지 추가 | react/main/src/admin/AdminMain.jsx | admin_main_temp.png 추가
| AdminSidebar 이미지 추가 | react/main/src/admin/AdminSidebar.jsx | admin_sid_temp.png 추가
5분

[테스트]
테스트 
(테스트 기준 미달로 인해) ->| Drawer 이미지 크기 수정 | react/main/src/admin/AdminSidebar.jsx | objectFit: contain으로 변경
테스트2
5분

[학습]
5분

**총 3시간 15분**
**학습 제외 2시간 15분**

## 주요 변경 사항

### 1. AdminSidebar 컴포넌트 생성 (react/main/src/admin/AdminSidebar.jsx)

**구조:**
```javascript
<Box component="nav" sx={{ width: { sm: drawerWidth }, flexShrink: { sm: 0 } }}>
  <Drawer variant="permanent" sx={{ ... }} open>
    <Box sx={{ width: '100%', height: '100vh' }}>
      <CardMedia
        component="img"
        image="/images/admin_sid_temp.png"
        sx={{
          width: '100%',
          height: 'auto',
          objectFit: 'contain',
        }}
      />
    </Box>
  </Drawer>
</Box>
```

**특징:**
- Drawer 너비: 270px (260 + 10)
- variant="permanent": 항상 열린 상태
- 이미지: 가로 기준으로 비율 유지

### 2. AdminHeader 컴포넌트 생성 (react/main/src/admin/AdminHeader.jsx)

**구조:**
```javascript
<AppBar
  position="fixed"
  sx={{
    width: { sm: `calc(100% - ${drawerWidth}px)` },
    ml: { sm: `${drawerWidth}px` },
    backgroundColor: '#ffffffff',
    color: '#1f2937',
    boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',
    borderBottom: '1px solid #e5e7eb',
  }}
>
  <Toolbar></Toolbar>
</AppBar>
```

**특징:**
- position="fixed": 상단 고정
- Dashboard.jsx와 동일한 색상 체계
- 사이드바 너비만큼 왼쪽 마진

### 3. AdminMain 컴포넌트 생성 (react/main/src/admin/AdminMain.jsx)

**구조:**
```javascript
<Box
  component="main"
  sx={{
    flexGrow: 1,
    p: 3,
    width: { sm: `calc(100% - ${drawerWidth}px)` },
    backgroundColor: '#F9FAFB',
    minHeight: '100vh',
  }}
>
  <Toolbar />
  <Container maxWidth="xl">
    <CardMedia
      component="img"
      image="/images/admin_main_temp.png"
      sx={{
        width: '100%',
        height: 'auto',
        objectFit: 'contain',
      }}
    />
  </Container>
</Box>
```

**특징:**
- flexGrow: 1로 남은 공간 모두 차지
- 배경색: #F9FAFB (라이트 그레이)
- 이미지: Container 너비에 맞게 비율 유지

### 4. AdminPage 레이아웃 조합 (react/main/src/admin/AdminPage.jsx)

**구조:**
```javascript
<Box sx={{ display: 'flex' }}>
  <AdminHeader />
  <AdminSidebar />
  <AdminMain />
</Box>
```

**특징:**
- Flexbox로 3개 컴포넌트 배치
- 헤더: 상단 고정
- 사이드바: 좌측 270px
- 메인: 나머지 공간

### 5. App.jsx 라우팅 추가 (react/main/src/App.jsx:9, 26)

**변경 전:**
```javascript
import Register from './Register';
// ...
<Route path="/Pinball_test" element={<Pinball/>} />
```

**변경 후:**
```javascript
import Register from './Register';
import AdminPage from './admin/AdminPage';
// ...
<Route path="/Pinball_test" element={<Pinball/>} />
<Route path="/admin" element={<AdminPage/>} />
```

### 6. Dashboard 알람 아이콘 네비게이션 (react/main/src/Dashboard.jsx:340)

**변경 전:**
```javascript
<IconButton >
  <Badge >
    <Notifications />
  </Badge>
</IconButton>
```

**변경 후:**
```javascript
<IconButton onClick={() => navigate('/admin')}>
  <Badge >
    <Notifications />
  </Badge>
</IconButton>
```

## 이슈 및 해결

### 문제 1: Drawer 이미지가 Drawer보다 큼

**문제 코드**
```javascript
<CardMedia
  sx={{
    width: '100%',
    height: '100%',
    objectFit: 'cover',
  }}
/>
```

**원인**
- `objectFit: 'cover'`로 설정하여 이미지가 영역을 채우도록 크롭됨
- Drawer는 가로 270px로 고정이지만 이미지는 세로 기준으로 크기 조절됨

**해결**
```javascript
<Box sx={{ width: '100%', height: '100vh' }}>
  <CardMedia
    sx={{
      width: '100%',
      height: 'auto',
      objectFit: 'contain',
    }}
  />
</Box>
```

**해결 방법**
- `height: 'auto'`: 가로 길이 기준으로 세로 비율 자동 조절
- `objectFit: 'contain'`: 이미지 전체가 보이도록 비율 유지
- Drawer의 고정 가로 길이(270px)에 맞춰 이미지 크기 조절

## 결과
- 상태: 완료
- Admin 메인 페이지 구현 완료 (사이드바, 헤더, 메인)
- Dashboard 알람 아이콘 클릭 시 `/admin` 이동
- 임시 이미지 추가 완료 (비율 유지)

## 다음 작업
- 사이드바에 사용자 관리 항목 버튼 생성
- 관리자 페이지 접속 경로 생성
- 관리자 로그인 페이지 생성
- 관리자 접속 권한 체크
- 관리자 사용자 관리 페이지 생성