# 핀볼 게임 점수 획득 애니메이션 실행계획

## 요구사항 요약

**요구사항**: 점수 획득 시 점수 표시 컴포넌트의 크기가 30% 커지고 색상이 `#ffffffd8`로 바뀐 뒤, 원래 크기(92px)와 원래 색상(`#ffffffa1`)으로 되돌아오는 애니메이션을 구현한다.

**목적**: 점수 획득 시각적 피드백을 제공하여 게임 몰입감을 높인다.

## 현재상태 분석

- 점수 획득: `setScore(prev => prev + 300)` (라인 458)
- 점수 표시: `<Typography fontSize: '92px', color: '#ffffffa1'>` (라인 896~902)
- 현재 점수 획득 시 애니메이션 없음, 숫자만 바뀜
- React 상태: `const [score, setScore] = useState(0)` (라인 34)

## 구현 방법

CSS `@keyframes` 애니메이션을 MUI `keyframes` 유틸리티로 정의하고, 점수 획득 시 애니메이션 트리거용 상태(`scoreAnimating`)를 추가한다. `setScore` 호출 위치에 트리거 로직을 추가하고, Typography의 `sx`에 조건부로 애니메이션을 적용한다.

## 구현 단계

### 1. MUI keyframes 임포트 추가
```javascript
import { keyframes } from '@mui/system';
```
- **무엇을 하는가**: MUI에서 CSS @keyframes 정의 함수를 임포트
- MUI의 `sx` prop 내에서 사용할 수 있는 애니메이션 정의 방식

### 2. scoreAnimating 상태 추가
```javascript
const [scoreAnimating, setScoreAnimating] = useState(false);
```
- **무엇을 하는가**: 점수 획득 애니메이션 실행 여부를 추적하는 상태 추가
- `true`일 때 Typography에 애니메이션 클래스 적용, `false`이면 원래 스타일

### 3. scorePopAnimation keyframes 정의
```javascript
const scorePopAnimation = keyframes`
  0% {
    font-size: 92px;
    color: #ffffffa1;
  }
  20% {
    font-size: 119.6px;
    color: #ffffffd8;
  }
  100% {
    font-size: 92px;
    color: #ffffffa1;
  }
`;
```
- **무엇을 하는가**: 점수 획득 시 크기와 색상이 변했다가 돌아오는 애니메이션 정의
- `119.6px` = `92px * 1.3` (30% 상승)
- 0%→20%: 빠르게 커지고 밝아짐, 20%→100%: 천천히 원래대로 복귀

### 4. 점수 획득 헬퍼 함수 추가
```javascript
const addScore = (points) => {
  setScore(prev => prev + points);
  setScoreAnimating(false);
  requestAnimationFrame(() => {
    setScoreAnimating(true);
    setTimeout(() => setScoreAnimating(false), 600);
  });
};
```
- **무엇을 하는가**: 점수 증가와 애니메이션 트리거를 하나의 함수로 통합
- `setScoreAnimating(false)` 후 `requestAnimationFrame`으로 리셋: 연속 점수 획득 시 애니메이션 재시작 보장
- 600ms 후 `scoreAnimating`을 `false`로 되돌려 애니메이션 종료

### 5. 기존 setScore 호출을 addScore로 교체
```javascript
// 라인 458 수정 전:
setScore(prev => prev + 300);

// 수정 후:
addScore(300);
```
- **무엇을 하는가**: 기존 직접 `setScore` 호출을 헬퍼 함수로 교체하여 애니메이션 연동

### 6. Typography에 애니메이션 sx 적용
```jsx
<Typography sx={{
  fontSize: '92px',
  fontWeight: 'bold',
  color: '#ffffffa1',
  animation: scoreAnimating
    ? `${scorePopAnimation} 0.6s ease-out forwards`
    : 'none',
}}>
  {score}
</Typography>
```
- **무엇을 하는가**: `scoreAnimating` 상태에 따라 애니메이션을 조건부 적용
- `ease-out`: 처음엔 빠르게, 끝은 천천히 복귀하는 가속도 곡선
- `forwards`: 애니메이션 끝난 후 마지막 프레임 상태 유지 (100% = 원래 크기/색상)

## 수정/생성할 파일 목록

| 파일 경로 | 작업 유형 | 변경 내용 |
|-----------|-----------|-----------|
| `frontend/src/pages/Pinball/Pinball.jsx` | 수정 | keyframes 임포트, scoreAnimating 상태, addScore 함수 추가, setScore → addScore 교체, Typography sx 수정 |

## 완료 체크리스트

- [ ] 점수 획득 시 점수 숫자가 즉시 커지고 밝아짐 (92px → 약 120px, 색상 변화 확인)
- [ ] 약 0.6초 내에 원래 크기(92px)와 색상(`#ffffffa1`)으로 부드럽게 복귀됨
- [ ] 짧은 시간 안에 여러 번 점수를 획득해도 애니메이션이 매번 재시작됨
- [ ] 애니메이션이 없을 때 점수 스타일이 기존과 동일하게 유지됨
- [ ] 브라우저 콘솔에 에러 없이 실행됨
