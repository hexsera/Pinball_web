# 핀볼 타겟 꾸미기 실행계획

## 요구사항 요약

**요구사항**: 핀볼 게임의 타겟(target) 오브젝트를, 외부 링 + 방사형 그라디언트 본체 + 방사형 톱니 별 패턴의 3단계 구조로 꾸민다. 색상은 하늘색 계열을 사용한다.

**목적**: 현재 타겟은 단순한 단색 원형으로 렌더링되어 핀볼 게임다운 느낌이 없다. 사용자가 제시한 디자인 패턴(외부 링 + 그라디언트 돔 + 방사형 톱니)을 하늘색 계열로 구현하여 게임의 시각적 완성도를 높인다.

## 현재상태 분석

- **타겟 정의**: `stageConfigs.js`에서 `label: 'target'`으로 생성, `fillStyle: 'transparent'`, `opacity: 0` (이미 수정됨)
- **범퍼 렌더링**: `Pinball.jsx` `afterRender` 이벤트에서 Canvas 2D API로 커스텀 렌더링 중
- **타겟 렌더링**: `Pinball.jsx` 640~701줄에 pop bumper 스타일 코드가 이미 추가됨 → 해당 코드를 새 디자인으로 교체
- **교체 범위**: 640줄 `// 타겟 pop bumper 스타일 렌더링` 블록 전체

## 구현 방법

- 기존 타겟 렌더링 코드(640~701줄)를 새 디자인으로 교체한다.
- 사용자가 제시한 코드 구조를 그대로 유지하되, 색상만 빨간/주황 계열 → 하늘색 계열로 변경한다.
- 3단계 구조: ① 외부 링(테두리 원) → ② 본체(방사형 그라디언트 + stroke) → ③ 방사형 톱니 별 패턴

## 구현 단계

### 1. Pinball.jsx — 타겟 렌더링 코드 교체

```javascript
// 타겟 pop bumper 스타일 렌더링 (새 디자인)
const targetBodies = stageBodiesRef.current.filter(b => b.label === 'target');

targetBodies.forEach((target) => {
  const { x, y } = target.position;
  const radius = target.circleRadius || 40;

  ctx.save();

  // ① 외부 링 (진한 파란색 테두리)
  ctx.beginPath();
  ctx.arc(x, y, radius + 10, 0, Math.PI * 2);
  ctx.fillStyle = '#115577';
  ctx.fill();

  // ② 본체 (방사형 그라디언트: 중앙 밝은 하늘색 → 가장자리 진한 파란색)
  const gradient = ctx.createRadialGradient(x, y, radius * 0.28, x, y, radius);
  gradient.addColorStop(0, '#DDFAFF');  // 중앙 밝은 흰-하늘색
  gradient.addColorStop(0.5, '#77DDFF'); // 중간 하늘색
  gradient.addColorStop(1, '#2299CC');  // 가장자리 진한 하늘색
  ctx.beginPath();
  ctx.arc(x, y, radius, 0, Math.PI * 2);
  ctx.fillStyle = gradient;
  ctx.fill();
  ctx.strokeStyle = '#1188BB';
  ctx.lineWidth = 5;
  ctx.stroke();

  // ③ 방사형 톱니 별 패턴 (하늘색 계열)
  ctx.fillStyle = 'rgba(0, 120, 180, 0.55)';
  const numPoints = 16;
  const outerRadius = radius;
  const innerRadius = radius * 0.7;
  ctx.beginPath();
  for (let i = 0; i < numPoints * 2; i++) {
    const r = (i % 2 === 0) ? outerRadius : innerRadius;
    const angle = (i / (numPoints * 2)) * Math.PI * 2;
    const px = x + r * Math.cos(angle);
    const py = y + r * Math.sin(angle);
    if (i === 0) ctx.moveTo(px, py);
    else ctx.lineTo(px, py);
  }
  ctx.closePath();
  ctx.fill();

  ctx.restore();
});
```
- **무엇을 하는가**: 사용자가 제시한 3단계 디자인(외부링 + 그라디언트 돔 + 톱니 별)을 하늘색 계열 색으로 타겟에 적용
- 외부 링: `#115577` 진한 파란색으로 테두리 역할
- 본체 그라디언트: `#DDFAFF`(밝은 흰하늘) → `#77DDFF`(하늘) → `#2299CC`(진파란)
- 톱니 별: `rgba(0,120,180,0.55)` 반투명 파란색, 16개 톱니, outerRadius와 innerRadius 교차

## 수정/생성할 파일 목록

| 파일 경로 | 작업 유형 | 변경 내용 |
|-----------|-----------|-----------|
| `frontend/src/pages/Pinball/Pinball.jsx` | 수정 | 640~701줄 타겟 렌더링 코드를 새 3단계 디자인으로 교체 |

## 완료 체크리스트

- [ ] 게임 실행 시 타겟 외부에 진한 파란색 링이 표시된다
- [ ] 타겟 내부가 중앙 밝은 흰-하늘색에서 가장자리 진한 파란색으로 그라디언트 처리된다
- [ ] 타겟 위에 반투명 파란색 톱니 별 패턴(16개)이 보인다
- [ ] Stage 1, Stage 2 모두에서 타겟이 올바르게 렌더링된다
- [ ] 기존 범퍼(빨간 네온)와 타겟(하늘색 별 패턴)이 동시에 정상 표시된다
- [ ] 브라우저 콘솔에 에러가 없다
