# OpenClaw — Skill 자동생성 & 자기발전 로직 분석 보고서

> 분석 목표: AI가 스스로 skill을 만드는 로직이 있는지, 스스로를 발전시키려는 로직이 있는지 확인

---

## 한 줄 결론

**OpenClaw에는 AI가 스스로 skill을 만들거나, 자기 자신을 발전시키는 로직이 없다.**

---

## 전체 흐름도 (코드 동작 구조)

```
사용자 메시지
      │
      ▼
┌─────────────────────────────────────┐
│         게이트웨이 (Gateway)          │
│    src/gateway/                      │
│    - WebSocket 연결 관리              │
│    - 세션 생성/제거                   │
└──────────────┬──────────────────────┘
               │
               ▼
┌─────────────────────────────────────┐
│          에이전트 (Agent)             │
│    src/agents/                       │
│    - PI 에이전트 실행                 │
│    - 도구(Tool) 목록 결정             │
│    - Skill 발견 & 로드               │
└──────┬───────────────────────┬──────┘
       │                       │
       ▼                       ▼
┌──────────────┐      ┌────────────────┐
│  Plugin 도구  │      │  Skill 도구    │
│ src/plugins/ │      │ src/agents/    │
│ loader.ts    │      │ skills/        │
│              │      │ refresh.ts     │
│ [사전 정의된  │      │                │
│  플러그인만   │      │ [SKILL.md 파일 │
│  동적 로드]   │      │  기반 발견]    │
└──────────────┘      └────────────────┘
       │                       │
       └───────────┬───────────┘
                   │
                   ▼
         AI가 도구를 사용해 응답 생성
         (새 도구/skill 생성 불가)
```

---

## 1. Skill 자동생성 로직 — 존재하지 않음

### 1-1. `skills/skill-creator/SKILL.md` — 수동 가이드일 뿐

이 파일은 **사람이 새 skill을 만들 때 읽는 설명서**다.
AI가 자동으로 실행하는 코드가 아니다.

```
Skill 만들기 프로세스 (모두 수동):
  Step 1: 예시로 skill 이해
  Step 2: skill 내용 계획
  Step 3: init_skill.py 스크립트 실행 (템플릿 생성)
  Step 4: SKILL.md 직접 편집
  Step 5: package_skill.py 스크립트 실행 (패키지화)
  Step 6: 반복 개선
```

**핵심**: `init_skill.py`, `package_skill.py`는 **빈 템플릿을 만드는 도구**일 뿐,
AI가 자동으로 새 skill 코드를 생성하는 것이 아니다.

---

### 1-2. `src/agents/skills/refresh.ts` — 파일 감시 & 동기화만 함

이 파일은 **이미 만들어진 skill 파일들을 발견하고 불러오는** 역할만 한다.

```
loadSkillEntries() 함수의 동작:
  ┌────────────────────────────────────┐
  │  아래 경로들을 탐색                  │
  │  - /skills/                        │
  │  - ~/.agents/skills/               │
  │  - ~/.config/openclaw/skills/      │
  │  - 플러그인 디렉토리                │
  │                                    │
  │  SKILL.md 파일이 있으면 → 로드      │
  │  없으면 → 무시                      │
  └────────────────────────────────────┘
```

파일이 변경되면 → 버전 올리기 → 리스너 호출 (그게 전부)
**새 skill 생성 없음.**

---

## 2. 자기발전 로직 — 존재하지 않음

### 2-1. `src/agents/pi-embedded-runner/run.ts` — 서브에이전트 실행일 뿐

이름만 보면 "AI가 AI를 실행"처럼 보이지만, 실제로는 단순하다.

```
runEmbeddedAttempt() 함수:
  ┌────────────────────────────────────────┐
  │  1. 임시 세션 생성                      │
  │  2. 사용할 AI 모델 결정                 │
  │  3. 도구 실행 루프 시작                 │
  │  4. Context 창 초과하면 중단            │
  │  5. 실패하면 다른 모델로 폴백           │
  └────────────────────────────────────────┘
```

이것은 **서브작업(sub-task)을 처리**하기 위해 잠깐 다른 AI 인스턴스를 띄우는 것.
AI가 자신을 수정하거나 새 기능을 추가하지 않는다.

---

### 2-2. `extensions/llm-task/src/llm-task-tool.ts` — JSON 응답 생성기일 뿐

```
createLlmTaskTool() 함수:
  ┌────────────────────────────────────────┐
  │  1. 임시 세션 생성                      │
  │  2. runEmbeddedPiAgent() 실행          │
  │  3. 응답을 JSON으로 파싱               │
  │  4. JSON 스키마 검증                   │
  │  5. 검증된 JSON 반환                   │
  └────────────────────────────────────────┘
```

AI가 JSON을 만들어서 반환하는 것. 새로운 코드나 기능을 생성하지 않는다.

---

### 2-3. `src/plugins/loader.ts` — 동적 로드지만 AI가 만들지는 않음

이 파일이 "가장 동적으로 보이는" 파일이다.
Jiti(TypeScript 동적 로더)를 사용해 런타임에 플러그인을 불러온다.

```
loadOpenClawPlugins() 함수:
  ┌────────────────────────────────────────┐
  │  1. 플러그인 디렉토리 탐색             │
  │  2. manifest 파일 읽기                 │
  │  3. Jiti로 TypeScript 파일 동적 import │
  │  4. register() 함수 호출               │
  │  5. 도구 목록에 추가                   │
  └────────────────────────────────────────┘
```

**중요**: "동적으로 로드"한다는 것은 **사전에 만들어진 플러그인 파일을 실행 중에 불러온다**는 의미다.
AI가 새 플러그인 코드를 **작성**하는 것이 아니다.

---

### 2-4. `src/hooks/loader.ts` — 파일 기반 이벤트 훅 로더

```
loadInternalHooks() 함수:
  ┌────────────────────────────────────────┐
  │  Hook 디렉토리 탐색                    │
  │       │                                │
  │       ▼                                │
  │  적격한 파일 필터링                    │
  │  (command/session/agent/              │
  │   gateway/message 타입)               │
  │       │                                │
  │       ▼                                │
  │  동적 import로 파일 불러오기           │
  │       │                                │
  │       ▼                                │
  │  registerInternalHook()으로 등록       │
  └────────────────────────────────────────┘
```

파일 시스템에 hook 파일이 있으면 불러와서 이벤트에 연결하는 것.
AI가 새 hook 코드를 생성하지 않는다.

---

## 3. 분석된 모든 파일 요약표

| 파일 경로 | 역할 | AI 자동생성? | AI 자기발전? |
|-----------|------|:---:|:---:|
| `src/agents/skills/refresh.ts` | Skill 파일 발견/동기화 | ❌ | ❌ |
| `src/agents/skills/workspace.ts` | Workspace skill 관리 | ❌ | ❌ |
| `skills/skill-creator/SKILL.md` | Skill 생성 **설명서** (수동) | ❌ | ❌ |
| `src/agents/pi-embedded-runner/run.ts` | 서브에이전트 실행 | ❌ | ❌ |
| `src/plugins/loader.ts` | 플러그인 동적 로드 | ❌ (발견만) | ❌ |
| `src/plugins/tools.ts` | 플러그인 도구 해석 | ❌ (발견만) | ❌ |
| `src/hooks/loader.ts` | Hook 동적 로드 | ❌ (발견만) | ❌ |
| `extensions/llm-task/src/llm-task-tool.ts` | LLM 작업 실행 | ❌ | ❌ |
| `extensions/lobster/src/lobster-tool.ts` | 워크플로우 런타임 | ❌ | ❌ |

---

## 4. 헷갈릴 수 있는 부분 정리

### "동적(Dynamic)"의 의미

OpenClaw에는 여러 "동적" 메커니즘이 있다:
- 플러그인을 **실행 중에** 불러오기
- Hook을 **실행 중에** 등록하기
- Skill 변경을 **실시간으로** 감지하기

하지만 이 모든 것은 **사전에 사람이 만들어놓은 파일을 불러오는 것**이지,
AI가 새 코드를 **작성**하거나 **스스로를 수정**하는 것이 아니다.

### "Embedded AI Runner"의 의미

`pi-embedded-runner`는 "AI 안에서 AI를 실행"처럼 보이지만,
이것은 **복잡한 작업을 서브작업으로 위임**하는 오케스트레이션 패턴이다.
AI가 자신의 코드를 수정하거나 새 기능을 추가하는 것이 아니다.

---

## 5. 최종 결론

```
┌─────────────────────────────────────────────────────┐
│                  OpenClaw 설계 철학                   │
│                                                     │
│   확장성은 있다 (플러그인, 훅, 스킬 시스템)           │
│   하지만 모든 확장은 사람이 사전에 만들어야 한다       │
│                                                     │
│   AI 역할: 주어진 도구를 사용해 사용자 요청에 응답   │
│   AI 역할 아님: 새 도구 만들기, 자기 코드 수정       │
│                                                     │
│   → AI 자동 skill 생성: 없음                        │
│   → AI 자기발전 로직: 없음                          │
└─────────────────────────────────────────────────────┘
```

OpenClaw는 **안전하고 예측 가능한 AI 비서**를 목표로 한다.
AI가 스스로 진화하는 것이 아니라,
개발자 커뮤니티가 54개의 skill과 38개의 플러그인을 미리 만들어서 제공하는 구조다.
