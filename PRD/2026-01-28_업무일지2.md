# 업무일지

## 기본 정보
- 날짜: 2026-01-28 (화)
- 작성자: hexsera

## 진행 목표
핀볼 게임에서 목표 오브젝트(target)를 구현하여 사용자에게 명확한 목표를 부여하고 도전 정신을 고취시킴.

## 진행 내용

| 작업 | 수정 파일 | 비고 |
|------|----------|------|
| 실행계획 작성 | PRD/핀볼목표오브젝트-실행계획.md | PRD 기반 실행계획 문서 작성
| target Bodies 생성 | react/main/src/Pinball.jsx | 하늘색 원형 오브젝트 추가
| World에 target 추가 | react/main/src/Pinball.jsx | Matter.js 월드에 target 등록
| target 충돌 이벤트 추가 | react/main/src/Pinball.jsx | 충돌 감지 및 콘솔 메시지 출력

**총 30분**

## 주요 변경 사항

### 1. react/main/src/Pinball.jsx 수정

#### 변경 1: target Bodies 생성

**추가:**
```javascript
// 목표 오브젝트 만들기 (충돌 시 강하게 튕겨냄)
const target = Bodies.circle(500, 500, 40, {
  isStatic: true,
  restitution: 1.5,
  label: 'target',
  render: { fillStyle: '#87CEEB' }
});
```

**특징:**
- 위치: (500, 500) - bumper와 다른 위치
- 반지름: 40 (bumper와 동일한 크기)
- `isStatic: true`: 고정된 위치
- `restitution: 1.5`: bumper와 동일한 반발력 (충돌 시 강하게 튕겨냄)
- `label: 'target'`: 충돌 감지를 위한 식별자
- `fillStyle: '#87CEEB'`: 하늘색 (Sky Blue)

#### 변경 2: World에 target 추가

**변경 전:**
```javascript
World.add(engine.world, [
  ground,
  leftWall,
  rightWall,
  upWall,
  deathZone,
  ball,
  obstacle1,
  obstacle2,
  bumper,
  leftFlipper,
  rightFlipper,
  leftFlipperConstraint,
  rightFlipperConstraint
]);
```

**변경 후:**
```javascript
World.add(engine.world, [
  ground,
  leftWall,
  rightWall,
  upWall,
  deathZone,
  ball,
  obstacle1,
  obstacle2,
  bumper,
  target,  // target 추가
  leftFlipper,
  rightFlipper,
  leftFlipperConstraint,
  rightFlipperConstraint
]);
```

**특징:**
- bumper 다음에 target 추가하여 가독성 향상
- Matter.js 엔진이 target을 물리 시뮬레이션에 포함

#### 변경 3: target 충돌 이벤트 추가

**추가:**
```javascript
// 공과 목표 오브젝트가 충돌했는지 확인
if ((bodyA.label === 'target' && bodyB === ball) ||
    (bodyB.label === 'target' && bodyA === ball)) {
  console.log('target 충돌했음');
}
```

**특징:**
- bumper 충돌 이벤트와 동일한 구조
- `bodyA.label === 'target'` 또는 `bodyB.label === 'target'`로 충돌 감지
- 콘솔에 "target 충돌했음" 메시지 출력
- bumper 충돌 이벤트 다음, 죽음구역 충돌 이벤트 이전에 배치

### 2. PRD/핀볼목표오브젝트-실행계획.md 생성

**추가:**
- 요구사항 요약: 목표 오브젝트의 목적과 필요성
- 현재상태 분석: 기존 bumper 구조 분석
- 구현 방법: bumper 코드 재사용 및 색상/label 변경
- 구현 단계: 3단계 (target 생성, World 추가, 충돌 이벤트)
- 완료 체크리스트: 화면 표시, 위치, 충돌 감지, 튕김 효과 확인

**특징:**
- bumper를 기반으로 target을 생성하여 개발 시간 단축
- 하늘색(#87CEEB)으로 bumper(빨간색)와 시각적 구분
- restitution 1.5로 충돌 시 강한 반발력 제공

## 게임 오브젝트 구조

```
핀볼 게임 오브젝트
├── 경계
│   ├── ground (바닥)
│   ├── leftWall (왼쪽 벽)
│   ├── rightWall (오른쪽 벽)
│   ├── upWall (위 벽)
│   └── deathZone (죽음 구역)
├── 공
│   └── ball
├── 장애물
│   ├── obstacle1
│   └── obstacle2
├── 상호작용 오브젝트
│   ├── bumper (빨간색, 위치: 400, 600)
│   └── target (하늘색, 위치: 500, 500) ← 새로 추가
└── 플레이어 컨트롤
    ├── leftFlipper
    ├── rightFlipper
    ├── leftFlipperConstraint
    └── rightFlipperConstraint
```

## 충돌 이벤트 처리 순서

```
collisionStart 이벤트 발생
        │
        ▼
pairs.forEach((pair) => {
  │
  ├─ bumper 충돌? ──→ 공에 추가 속도 부여 (bumperForce)
  │
  ├─ target 충돌? ──→ console.log('target 충돌했음') ← 새로 추가
  │
  └─ deathZone 충돌? ──→ 부활 또는 게임 오버
})
```

## 결과
- 상태: 완료
- 게임 화면에 하늘색 원형 오브젝트(target) 표시
- 공이 target과 충돌 시 콘솔에 "target 충돌했음" 출력
- 공이 target과 충돌 시 강하게 튕겨 나감 (restitution: 1.5)

## 배운내용


## 다음 작업
- target 충돌 시 점수 증가 기능 추가
- target 충돌 횟수 표시 UI 구현
- 여러 개의 target 배치 (난이도 조절)
- target 충돌 시 시각적 효과 추가 (색상 변경, 애니메이션 등)
