# 메인페이지 사이드바 접기 실행계획

## 요구사항 요약

**요구사항**: Dashboard 컴포넌트에 사이드바 토글(접기/펼치기) 기능 추가

**목적**: 모바일 환경에서 사이드바(260px)가 화면 절반 이상을 가려 콘텐츠 조작이 불가능한 문제 해결

## 현재상태 분석

Dashboard.jsx의 사이드바는 다음과 같은 상태:
- `variant="permanent"` 설정으로 항상 표시됨
- 모바일/데스크탑 구분 없이 동일하게 260px 너비로 고정
- 햄버거 메뉴 아이콘 없음
- 사이드바 열림/닫힘 상태 관리 없음
- AppBar와 메인 영역이 사이드바 너비만큼 왼쪽 마진 설정됨 (`ml: { sm: ${drawerWidth}px }`)

## 구현 방법

Material-UI의 Drawer 컴포넌트의 반응형 패턴 사용:
- **데스크탑(sm 이상)**: `variant="permanent"` 유지 (항상 표시)
- **모바일(xs)**: `variant="temporary"` 사용 (토글 가능, 오버레이 방식)
- AppBar에 햄버거 메뉴 아이콘 추가 (모바일에서만 표시)
- `useState`로 사이드바 열림/닫힘 상태 관리

## 구현 단계

### 1. 사이드바 상태 관리 추가
```javascript
const [mobileOpen, setMobileOpen] = useState(false);

const handleDrawerToggle = () => {
  setMobileOpen(!mobileOpen);
};
```
- `mobileOpen`: 모바일에서 사이드바 열림/닫힘 상태 관리
- `handleDrawerToggle`: 사이드바 토글 함수

### 2. AppBar에 햄버거 메뉴 아이콘 추가
```javascript
<Toolbar sx={{ justifyContent: 'space-between' }}>
  <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>
    <IconButton
      color="inherit"
      edge="start"
      onClick={handleDrawerToggle}
      sx={{ mr: 2, display: { sm: 'none' } }}
    >
      <MenuIcon />
    </IconButton>

    <TextField
      placeholder="Type to search..."
      size="small"
      sx={{ width: 300, display: { xs: 'none', md: 'block' } }}
      // ... 기존 코드
    />
  </Box>
  // ... 기존 우측 버튼들
</Toolbar>
```
- `sx={{ display: { sm: 'none' } }}`: 데스크탑에서는 햄버거 아이콘 숨김
- `edge="start"`: 왼쪽 정렬
- `onClick={handleDrawerToggle}`: 클릭 시 사이드바 토글

### 3. Drawer를 모바일/데스크탑 두 개로 분리
```javascript
<Box
  component="nav"
  sx={{ width: { sm: drawerWidth }, flexShrink: { sm: 0 } }}
>
  {/* 모바일 Drawer */}
  <Drawer
    variant="temporary"
    open={mobileOpen}
    onClose={handleDrawerToggle}
    ModalProps={{
      keepMounted: true, // 모바일 성능 향상
    }}
    sx={{
      display: { xs: 'block', sm: 'none' },
      '& .MuiDrawer-paper': {
        boxSizing: 'border-box',
        width: drawerWidth,
        backgroundColor: '#ffffffff',
      },
    }}
  >
    {drawer}
  </Drawer>

  {/* 데스크탑 Drawer */}
  <Drawer
    variant="permanent"
    sx={{
      display: { xs: 'none', sm: 'block' },
      '& .MuiDrawer-paper': {
        boxSizing: 'border-box',
        width: drawerWidth,
        backgroundColor: '#ffffffff',
      },
    }}
    open
  >
    {drawer}
  </Drawer>
</Box>
```
- **모바일 Drawer**: `variant="temporary"`, `open={mobileOpen}`, `display: { xs: 'block', sm: 'none' }`
- **데스크탑 Drawer**: `variant="permanent"`, `display: { xs: 'none', sm: 'block' }`
- `onClose={handleDrawerToggle}`: 모바일에서 오버레이 클릭 시 닫힘
- `keepMounted: true`: 모바일 성능 최적화 (DOM에 유지)

### 4. AppBar width 반응형 수정
```javascript
<AppBar
  position="fixed"
  sx={{
    width: { sm: `calc(100% - ${drawerWidth}px)` },
    ml: { sm: `${drawerWidth}px` },
    // ... 기존 스타일
  }}
>
```
- `sm` 브레이크포인트부터 사이드바 너비만큼 조정
- 모바일(`xs`)에서는 `width: 100%`, `ml: 0` (기본값)

## 수정/생성할 파일 목록

| 파일 경로 | 작업 유형 | 변경 내용 |
|-----------|-----------|-----------|
| react/main/src/Dashboard.jsx | 수정 | 사이드바 토글 상태 추가, 햄버거 아이콘 추가, Drawer 모바일/데스크탑 분리 |

## 완료 체크리스트

- [ ] 모바일 화면에서 햄버거 메뉴 아이콘이 AppBar 왼쪽에 표시됨
- [ ] 햄버거 아이콘 클릭 시 사이드바가 왼쪽에서 슬라이드되어 나타남
- [ ] 사이드바 바깥 오버레이 클릭 시 사이드바가 닫힘
- [ ] 데스크탑 화면에서는 햄버거 아이콘이 표시되지 않고 사이드바가 항상 고정되어 있음
- [ ] 모바일에서 사이드바가 닫혔을 때 콘텐츠 영역이 화면 전체를 사용함
- [ ] 브라우저 창 크기 조절 시 모바일/데스크탑 모드 전환이 자연스럽게 동작함
