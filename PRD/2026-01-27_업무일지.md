# 업무일지

## 기본 정보
- 날짜: 2026-01-27 (월) 10:57~12:00
- 작성자: hexsera

## 진행 목표
friendships 테이블을 생성하여 사용자 간 친구 관계를 영구적으로 저장하고 관리할 수 있는 데이터베이스 구조를 구축한다.

## 진행 내용

| 작업 | 실행시간 | 수정파일 |
|------|----------|------|
|PRD작성| 2분 | |
|PLAN작성| 8분 | |
|실행| 10분 | fastapi/models.py |
|학습 | 30분 | |

### fastapi/models.py (수정)

```python
class Friendship(Base):
    __tablename__ = "friendships"

    id = Column(Integer, primary_key=True, index=True)
    requester_id = Column(Integer, nullable=False, index=True)
    addressee_id = Column(Integer, nullable=False, index=True)
    status = Column(String(20), nullable=False, default='pending')
    created_at = Column(DateTime, nullable=False, server_default=func.now(), index=True)
```

## 결과
- 상태: 완료


## 기본 정보
- 날짜: 2026-01-27 (월) 10:57~12:00
- 작성자: hexsera

## 진행 목표
friendships 테이블을 생성하여 사용자 간 친구 관계를 영구적으로 저장하고 관리할 수 있는 데이터베이스 구조를 구축한다.


## 진행 내용
| 작업 | 실행시간 | 수정파일 |
|------|----------|------|
|PRD작성| 7분 | |
|PLAN작성| 7분 | |
|실행| 3분 | fastapi/models.py |
|학습 | 2분 | |

### 1. fastapi/models.py 수정

**변경 후 (추가된 코드):**
```python
class Visit(Base):
    __tablename__ = "visits"

    id = Column(Integer, primary_key=True, index=True)
    user_id = Column(Integer, nullable=True, index=True)
    visited_at = Column(DateTime, nullable=False, server_default=func.now(), index=True)
```

## 결과
- 상태: 완료

## 다음 작업
- friendships 테이블 생성 확인 (`SHOW TABLES;`)
- 테이블 구조 확인 (`DESCRIBE friendships;`)
- 인덱스 확인 (`SHOW INDEX FROM friendships;`)
- 친구 요청 CRUD API 구현 (POST, GET, PUT, DELETE)
- 친구 목록 조회 API 구현

## 다음 작업
- visits 테이블 생성 확인 (MySQL CLI)
- 방문 기록 저장 API 엔드포인트 구현 (POST /api/v1/visits)
- 기간별 방문 통계 조회 API 구현 (GET /api/v1/visits/stats)

